<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="My Farcaster Frame" />
    <meta property="og:image" content="https://pbs.twimg.com/profile_images/1536483903774531586/KHNPU1AN_400x400.jpg" />
    <meta property="og:description" content="A simple interactive frame" />
    <meta property="fc:frame" content="vNext" />
    <meta property="fc:frame:image" content="https://pbs.twimg.com/profile_images/1536483903774531586/KHNPU1AN_400x400.jpg" />
    <meta property="fc:frame:button:1" content="Button1" />
    <meta property="fc:frame:button:2" content="Button2" />
    <meta property="fc:frame:button:3" content="Button3" />
    <meta property="fc:frame:button:4" content="Button4" />
    <title>My Farcaster Frame</title>
</head>
<body>
    <h1>Welcome to My Farcaster Frame</h1>
    <p>This is a simple interactive frame example.</p>
    <!-- Image displayed below -->
    <img id="frameImage" src="https://pbs.twimg.com/profile_images/1536483903774531586/KHNPU1AN_400x400.jpg" alt="Farcaster Frame Image">

    <!-- Buttons for interactivity -->
    <button onclick="handleButtonClick('1')">Button 1</button>
    <button onclick="handleButtonClick('2')">Button 2</button>

    <script>
        function handleButtonClick(buttonId) {
            fetch('/api/button-click', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ buttonId: buttonId }),
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                // Update the image and message on the page
                document.getElementById('frameImage').src = data.imageUrl;
                // If you have a paragraph or element to show messages, update it here
                // document.getElementById('message').textContent = data.message;
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
